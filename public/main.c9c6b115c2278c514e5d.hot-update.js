/*! For license information please see main.c9c6b115c2278c514e5d.hot-update.js.LICENSE.txt */
"use strict";self.webpackHotUpdatefloema("main",{"./app/components/Canvas/Home/index.js":(t,e,s)=>{s.r(e),s.d(e,{default:()=>a});var i=s("./node_modules/ogl/src/core/Transform.js"),h=s("./node_modules/ogl/src/extras/Plane.js"),r=s("./node_modules/gsap/index.js"),l=s("./node_modules/lodash/map.js"),o=s.n(l),n=s("./app/components/Canvas/Home/Media.js");const a=class{constructor({gl:t,scene:e,sizes:s}){this.gl=t,this.scene=e,this.sizes=s,this.group=new i.Transform,this.galleryElement=document.querySelector(".home__gallery"),this.mediasElements=document.querySelectorAll(".home__gallery__media__image"),this.x={current:0,target:0,lerp:.1},this.y={current:0,target:0,lerp:.1},this.scrollCurrent={x:0,y:0},this.scroll={x:0,y:0},this.createGeometry(),this.createGallery(),this.group.setParent(e),this.show()}createGeometry(){this.geometry=new h.Plane(this.gl)}createGallery(){this.medias=o()(this.mediasElements,((t,e)=>new n.default({gl:this.gl,element:t,index:e,geometry:this.geometry,scene:this.group,sizes:this.sizes})))}show(){o()(this.medias,(t=>t.show()))}hide(){o()(this.medias,(t=>t.hide()))}onResize(t){this.galleryBounds=this.galleryElement.getBoundingClientRect(),this.sizes=t.sizes,this.gallerySizes={width:this.galleryBounds.width/window.innerWidth*this.sizes.width,height:this.galleryBounds.height/window.innerHeight*this.sizes.height},this.scroll.x=this.x.target=0,this.scroll.y=this.y.target=0,o()(this.medias,(e=>e.onResize(t,this.scroll)))}onTouchDown({x:t,y:e}){this.scrollCurrent.x=this.scroll.x,this.scrollCurrent.y=this.scroll.y}onTouchMove({x:t,y:e}){const s=t.start-t.end,i=e.start-e.end;this.x.target=this.scrollCurrent.x-s,this.y.target=this.scrollCurrent.y-i}onTouchUp({x:t,y:e}){}onWheel({pixelX:t,pixelY:e}){this.x.target+=t,this.y.target+=e}update(){this.galleryBounds&&(this.x.current=r.default.utils.interpolate(this.x.current,this.x.target,this.x.lerp),this.y.current=r.default.utils.interpolate(this.y.current,this.y.target,this.y.lerp),this.scroll.x<this.x.current?this.x.direction="right":this.scroll.x>this.x.current&&(this.x.direction="left"),this.scroll.y<this.y.current?this.y.direction="top":this.scroll.y>this.y.current&&(this.y.direction="bottom"),this.scroll.x=this.x.current,this.scroll.y=this.y.current,o()(this.medias,((t,e)=>{const s=t.mesh.scale.x/2;if("left"===this.x.direction){t.mesh.position.x+s<-this.sizes.width/2&&(t.extra.x+=this.gallerySizes.width,t.mesh.rotation.z=r.default.utils.random(.03*-Math.PI,.03*Math.PI))}else if("right"===this.x.direction){t.mesh.position.x-s>this.sizes.width/2&&(t.extra.x-=this.gallerySizes.width,t.mesh.rotation.z=r.default.utils.random(.03*-Math.PI,.03*Math.PI))}const i=t.mesh.scale.y/2;if("top"===this.y.direction){t.mesh.position.y+i<-this.sizes.height/2&&(t.extra.y+=this.gallerySizes.height,t.mesh.rotation.z=r.default.utils.random(.03*-Math.PI,.03*Math.PI))}else if("bottom"===this.y.direction){t.mesh.position.y-i>this.sizes.height/2&&(t.extra.y-=this.gallerySizes.height,t.mesh.rotation.z=r.default.utils.random(.03*-Math.PI,.03*Math.PI))}t.update(this.scroll)})))}destroy(){this.scene.removeChild(this.group)}}}},(function(t){t.h=()=>"58cd67d15599d774c2b3"}));
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QSxPQUE2QixLQUFWUyxLQUFLQyxHQUFxQixJQUFWRCxLQUFLQyxJQUV4RSxDQUVBLE1BQU1DLEVBQVNsQyxFQUFNMEIsS0FBS0MsTUFBTXpDLEVBQUksRUFFcEMsR0FBeUIsUUFBckJaLEtBQUtZLEVBQUVzQyxVQUFxQixDQUNsQnhCLEVBQU0wQixLQUFLRSxTQUFTMUMsRUFBSWdELEdBRXpCNUQsS0FBS0QsTUFBTXFDLE9BQVMsSUFDekJWLEVBQU02QixNQUFNM0MsR0FBS1osS0FBS2dDLGFBQWFJLE9BQ25DVixFQUFNMEIsS0FBS0ksU0FBU0MsRUFBSVIsRUFBQUEsUUFBQUEsTUFBQUEsT0FBNkIsS0FBVlMsS0FBS0MsR0FBcUIsSUFBVkQsS0FBS0MsSUFFeEUsTUFBTyxHQUF5QixXQUFyQjNELEtBQUtZLEVBQUVzQyxVQUF3QixDQUM1QnhCLEVBQU0wQixLQUFLRSxTQUFTMUMsRUFBSWdELEVBRTFCNUQsS0FBS0QsTUFBTXFDLE9BQVMsSUFDeEJWLEVBQU02QixNQUFNM0MsR0FBS1osS0FBS2dDLGFBQWFJLE9BQ25DVixFQUFNMEIsS0FBS0ksU0FBU0MsRUFBSVIsRUFBQUEsUUFBQUEsTUFBQUEsT0FBNkIsS0FBVlMsS0FBS0MsR0FBcUIsSUFBVkQsS0FBS0MsSUFFeEUsQ0FFQWpDLEVBQU1zQixPQUFPaEQsS0FBS2MsT0FBTyxJQUVqQyxDQU1BK0MsVUFDSTdELEtBQUtGLE1BQU1nRSxZQUFZOUQsS0FBS0MsTUFDaEMsa0JDNUxKOEQsRUFBb0JDLEVBQUksSUFBTSIsInNvdXJjZXMiOlsid2VicGFjazovL2Zsb2VtYS8uL2FwcC9jb21wb25lbnRzL0NhbnZhcy9Ib21lL2luZGV4LmpzIiwid2VicGFjazovL2Zsb2VtYS93ZWJwYWNrL3J1bnRpbWUvZ2V0RnVsbEhhc2giXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgUGxhbmUsIFRyYW5zZm9ybSB9IGZyb20gXCJvZ2xcIjtcbmltcG9ydCBHU0FQIGZyb20gJ2dzYXAnO1xuXG5pbXBvcnQgbWFwIGZyb20gXCJsb2Rhc2gvbWFwXCI7XG5cbmltcG9ydCBNZWRpYSBmcm9tIFwiLi9NZWRpYVwiO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyB7XG4gICAgY29uc3RydWN0b3IoeyBnbCwgc2NlbmUsIHNpemVzIH0pIHtcbiAgICAgICAgdGhpcy5nbCA9IGdsO1xuICAgICAgICB0aGlzLnNjZW5lID0gc2NlbmU7XG4gICAgICAgIHRoaXMuc2l6ZXMgPSBzaXplcztcblxuICAgICAgICB0aGlzLmdyb3VwID0gbmV3IFRyYW5zZm9ybSgpO1xuXG4gICAgICAgIHRoaXMuZ2FsbGVyeUVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuaG9tZV9fZ2FsbGVyeScpO1xuICAgICAgICB0aGlzLm1lZGlhc0VsZW1lbnRzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmhvbWVfX2dhbGxlcnlfX21lZGlhX19pbWFnZScpO1xuXG4gICAgICAgIHRoaXMueCA9IHtcbiAgICAgICAgICAgIGN1cnJlbnQ6IDAsXG4gICAgICAgICAgICB0YXJnZXQ6IDAsXG4gICAgICAgICAgICBsZXJwOiAwLjFcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMueSA9IHtcbiAgICAgICAgICAgIGN1cnJlbnQ6IDAsXG4gICAgICAgICAgICB0YXJnZXQ6IDAsXG4gICAgICAgICAgICBsZXJwOiAwLjFcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuc2Nyb2xsQ3VycmVudCA9IHtcbiAgICAgICAgICAgIHg6IDAsXG4gICAgICAgICAgICB5OiAwXG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLnNjcm9sbCA9IHtcbiAgICAgICAgICAgIHg6IDAsXG4gICAgICAgICAgICB5OiAwXG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmNyZWF0ZUdlb21ldHJ5KCk7XG4gICAgICAgIHRoaXMuY3JlYXRlR2FsbGVyeSgpO1xuXG4gICAgICAgIHRoaXMuZ3JvdXAuc2V0UGFyZW50KHNjZW5lKTtcblxuICAgICAgICB0aGlzLnNob3coKTtcbiAgICB9XG5cbiAgICBjcmVhdGVHZW9tZXRyeSgpIHtcbiAgICAgICAgdGhpcy5nZW9tZXRyeSA9IG5ldyBQbGFuZSh0aGlzLmdsKTtcbiAgICB9XG5cbiAgICBjcmVhdGVHYWxsZXJ5KCkge1xuICAgICAgICB0aGlzLm1lZGlhcyA9IG1hcCh0aGlzLm1lZGlhc0VsZW1lbnRzLCAoZWxlbWVudCwgaW5kZXgpID0+IHtcbiAgICAgICAgICAgIHJldHVybiBuZXcgTWVkaWEoe1xuICAgICAgICAgICAgICAgIGdsOiB0aGlzLmdsLFxuICAgICAgICAgICAgICAgIGVsZW1lbnQsXG4gICAgICAgICAgICAgICAgaW5kZXgsXG4gICAgICAgICAgICAgICAgZ2VvbWV0cnk6IHRoaXMuZ2VvbWV0cnksXG4gICAgICAgICAgICAgICAgc2NlbmU6IHRoaXMuZ3JvdXAsXG4gICAgICAgICAgICAgICAgc2l6ZXM6IHRoaXMuc2l6ZXNcbiAgICAgICAgICAgIH0pXG4gICAgICAgIH0pXG4gICAgfVxuXG4gICAgLyoqIFxuICAgICAqIEFuaW1hdGlvbnMuXG4gICAgKi9cbiAgICBzaG93KCkge1xuICAgICAgICBtYXAodGhpcy5tZWRpYXMsIG1lZGlhID0+IG1lZGlhLnNob3coKSk7XG4gICAgfVxuXG4gICAgaGlkZSgpIHtcbiAgICAgICAgbWFwKHRoaXMubWVkaWFzLCBtZWRpYSA9PiBtZWRpYS5oaWRlKCkpO1xuICAgIH1cblxuICAgIC8qKiBcbiAgICAgKiBFdmVudHNcbiAgICAqL1xuICAgIG9uUmVzaXplKGV2ZW50KSB7XG4gICAgICAgIHRoaXMuZ2FsbGVyeUJvdW5kcyA9IHRoaXMuZ2FsbGVyeUVsZW1lbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG5cbiAgICAgICAgdGhpcy5zaXplcyA9IGV2ZW50LnNpemVzO1xuXG4gICAgICAgIHRoaXMuZ2FsbGVyeVNpemVzID0ge1xuICAgICAgICAgICAgd2lkdGg6ICh0aGlzLmdhbGxlcnlCb3VuZHMud2lkdGggLyB3aW5kb3cuaW5uZXJXaWR0aCkgKiB0aGlzLnNpemVzLndpZHRoLFxuICAgICAgICAgICAgaGVpZ2h0OiAodGhpcy5nYWxsZXJ5Qm91bmRzLmhlaWdodCAvIHdpbmRvdy5pbm5lckhlaWdodCkgKiB0aGlzLnNpemVzLmhlaWdodFxuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5zY3JvbGwueCA9IHRoaXMueC50YXJnZXQgPSAwO1xuICAgICAgICB0aGlzLnNjcm9sbC55ID0gdGhpcy55LnRhcmdldCA9IDA7XG5cbiAgICAgICAgbWFwKHRoaXMubWVkaWFzLCBtZWRpYSA9PiBtZWRpYS5vblJlc2l6ZShldmVudCwgdGhpcy5zY3JvbGwpKTtcbiAgICB9XG5cbiAgICBvblRvdWNoRG93bih7IHgsIHkgfSkge1xuICAgICAgICB0aGlzLnNjcm9sbEN1cnJlbnQueCA9IHRoaXMuc2Nyb2xsLnhcbiAgICAgICAgdGhpcy5zY3JvbGxDdXJyZW50LnkgPSB0aGlzLnNjcm9sbC55XG4gICAgfVxuXG4gICAgb25Ub3VjaE1vdmUoeyB4LCB5IH0pIHtcbiAgICAgICAgY29uc3QgeERpc3RhbmNlID0geC5zdGFydCAtIHguZW5kXG4gICAgICAgIGNvbnN0IHlEaXN0YW5jZSA9IHkuc3RhcnQgLSB5LmVuZFxuXG4gICAgICAgIHRoaXMueC50YXJnZXQgPSB0aGlzLnNjcm9sbEN1cnJlbnQueCAtIHhEaXN0YW5jZVxuICAgICAgICB0aGlzLnkudGFyZ2V0ID0gdGhpcy5zY3JvbGxDdXJyZW50LnkgLSB5RGlzdGFuY2VcbiAgICB9XG5cbiAgICBvblRvdWNoVXAoeyB4LCB5IH0pIHtcblxuICAgIH1cblxuICAgIG9uV2hlZWwoeyBwaXhlbFgsIHBpeGVsWSB9KSB7XG4gICAgICAgIHRoaXMueC50YXJnZXQgKz0gcGl4ZWxYO1xuICAgICAgICB0aGlzLnkudGFyZ2V0ICs9IHBpeGVsWTtcbiAgICB9XG5cbiAgICB1cGRhdGUoKSB7XG4gICAgICAgIGlmICghdGhpcy5nYWxsZXJ5Qm91bmRzKSByZXR1cm5cblxuICAgICAgICB0aGlzLnguY3VycmVudCA9IEdTQVAudXRpbHMuaW50ZXJwb2xhdGUodGhpcy54LmN1cnJlbnQsIHRoaXMueC50YXJnZXQsIHRoaXMueC5sZXJwKTtcbiAgICAgICAgdGhpcy55LmN1cnJlbnQgPSBHU0FQLnV0aWxzLmludGVycG9sYXRlKHRoaXMueS5jdXJyZW50LCB0aGlzLnkudGFyZ2V0LCB0aGlzLnkubGVycCk7XG5cbiAgICAgICAgaWYgKHRoaXMuc2Nyb2xsLnggPCB0aGlzLnguY3VycmVudCkge1xuICAgICAgICAgICAgdGhpcy54LmRpcmVjdGlvbiA9ICdyaWdodCc7XG4gICAgICAgIH0gZWxzZSBpZiAodGhpcy5zY3JvbGwueCA+IHRoaXMueC5jdXJyZW50KSB7XG4gICAgICAgICAgICB0aGlzLnguZGlyZWN0aW9uID0gJ2xlZnQnXG4gICAgICAgIH1cblxuXG4gICAgICAgIGlmICh0aGlzLnNjcm9sbC55IDwgdGhpcy55LmN1cnJlbnQpIHtcbiAgICAgICAgICAgIHRoaXMueS5kaXJlY3Rpb24gPSAndG9wJ1xuICAgICAgICB9IGVsc2UgaWYgKHRoaXMuc2Nyb2xsLnkgPiB0aGlzLnkuY3VycmVudCkge1xuICAgICAgICAgICAgdGhpcy55LmRpcmVjdGlvbiA9ICdib3R0b20nXG4gICAgICAgIH1cblxuXG4gICAgICAgIHRoaXMuc2Nyb2xsLnggPSB0aGlzLnguY3VycmVudFxuICAgICAgICB0aGlzLnNjcm9sbC55ID0gdGhpcy55LmN1cnJlbnRcblxuICAgICAgICBtYXAodGhpcy5tZWRpYXMsIChtZWRpYSwgaW5kZXgpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHNjYWxlWCA9IG1lZGlhLm1lc2guc2NhbGUueCAvIDJcblxuICAgICAgICAgICAgaWYgKHRoaXMueC5kaXJlY3Rpb24gPT09ICdsZWZ0Jykge1xuICAgICAgICAgICAgICAgIGNvbnN0IHggPSBtZWRpYS5tZXNoLnBvc2l0aW9uLnggKyBzY2FsZVg7XG5cbiAgICAgICAgICAgICAgICBpZiAoeCA8IC10aGlzLnNpemVzLndpZHRoIC8gMikge1xuICAgICAgICAgICAgICAgICAgICBtZWRpYS5leHRyYS54ICs9IHRoaXMuZ2FsbGVyeVNpemVzLndpZHRoO1xuICAgICAgICAgICAgICAgICAgICBtZWRpYS5tZXNoLnJvdGF0aW9uLnogPSBHU0FQLnV0aWxzLnJhbmRvbSgtTWF0aC5QSSAqIDAuMDMsIE1hdGguUEkgKiAwLjAzKVxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgfSBlbHNlIGlmICh0aGlzLnguZGlyZWN0aW9uID09PSAncmlnaHQnKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgeCA9IG1lZGlhLm1lc2gucG9zaXRpb24ueCAtIHNjYWxlWDtcblxuICAgICAgICAgICAgICAgIGlmICh4ID4gdGhpcy5zaXplcy53aWR0aCAvIDIpIHtcbiAgICAgICAgICAgICAgICAgICAgbWVkaWEuZXh0cmEueCAtPSB0aGlzLmdhbGxlcnlTaXplcy53aWR0aDtcbiAgICAgICAgICAgICAgICAgICAgbWVkaWEubWVzaC5yb3RhdGlvbi56ID0gR1NBUC51dGlscy5yYW5kb20oLU1hdGguUEkgKiAwLjAzLCBNYXRoLlBJICogMC4wMylcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNvbnN0IHNjYWxlWSA9IG1lZGlhLm1lc2guc2NhbGUueSAvIDI7XG5cbiAgICAgICAgICAgIGlmICh0aGlzLnkuZGlyZWN0aW9uID09PSAndG9wJykge1xuICAgICAgICAgICAgICAgIGNvbnN0IHkgPSBtZWRpYS5tZXNoLnBvc2l0aW9uLnkgKyBzY2FsZVk7XG5cbiAgICAgICAgICAgICAgICBpZiAoeSA8IC10aGlzLnNpemVzLmhlaWdodCAvIDIpIHtcbiAgICAgICAgICAgICAgICAgICAgbWVkaWEuZXh0cmEueSArPSB0aGlzLmdhbGxlcnlTaXplcy5oZWlnaHQ7XG4gICAgICAgICAgICAgICAgICAgIG1lZGlhLm1lc2gucm90YXRpb24ueiA9IEdTQVAudXRpbHMucmFuZG9tKC1NYXRoLlBJICogMC4wMywgTWF0aC5QSSAqIDAuMDMpXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIGlmICh0aGlzLnkuZGlyZWN0aW9uID09PSAnYm90dG9tJykge1xuICAgICAgICAgICAgICAgIGNvbnN0IHkgPSBtZWRpYS5tZXNoLnBvc2l0aW9uLnkgLSBzY2FsZVk7XG5cbiAgICAgICAgICAgICAgICBpZiAoeSA+IHRoaXMuc2l6ZXMuaGVpZ2h0IC8gMikge1xuICAgICAgICAgICAgICAgICAgICBtZWRpYS5leHRyYS55IC09IHRoaXMuZ2FsbGVyeVNpemVzLmhlaWdodDtcbiAgICAgICAgICAgICAgICAgICAgbWVkaWEubWVzaC5yb3RhdGlvbi56ID0gR1NBUC51dGlscy5yYW5kb20oLU1hdGguUEkgKiAwLjAzLCBNYXRoLlBJICogMC4wMylcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIG1lZGlhLnVwZGF0ZSh0aGlzLnNjcm9sbCk7XG4gICAgICAgIH0pXG4gICAgfVxuXG4gICAgLyoqIFxuICAgICAqIERlc3Ryb3lcbiAgICAqL1xuXG4gICAgZGVzdHJveSgpIHtcbiAgICAgICAgdGhpcy5zY2VuZS5yZW1vdmVDaGlsZCh0aGlzLmdyb3VwKTtcbiAgICB9XG59IiwiX193ZWJwYWNrX3JlcXVpcmVfXy5oID0gKCkgPT4gKFwiNThjZDY3ZDE1NTk5ZDc3NGMyYjNcIikiXSwibmFtZXMiOlsiY29uc3RydWN0b3IiLCJnbCIsInNjZW5lIiwic2l6ZXMiLCJ0aGlzIiwiZ3JvdXAiLCJUcmFuc2Zvcm0iLCJnYWxsZXJ5RWxlbWVudCIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvciIsIm1lZGlhc0VsZW1lbnRzIiwicXVlcnlTZWxlY3RvckFsbCIsIngiLCJjdXJyZW50IiwidGFyZ2V0IiwibGVycCIsInkiLCJzY3JvbGxDdXJyZW50Iiwic2Nyb2xsIiwiY3JlYXRlR2VvbWV0cnkiLCJjcmVhdGVHYWxsZXJ5Iiwic2V0UGFyZW50Iiwic2hvdyIsImdlb21ldHJ5IiwiUGxhbmUiLCJtZWRpYXMiLCJtYXAiLCJlbGVtZW50IiwiaW5kZXgiLCJNZWRpYSIsIm1lZGlhIiwiaGlkZSIsIm9uUmVzaXplIiwiZXZlbnQiLCJnYWxsZXJ5Qm91bmRzIiwiZ2V0Qm91bmRpbmdDbGllbnRSZWN0IiwiZ2FsbGVyeVNpemVzIiwid2lkdGgiLCJ3aW5kb3ciLCJpbm5lcldpZHRoIiwiaGVpZ2h0IiwiaW5uZXJIZWlnaHQiLCJvblRvdWNoRG93biIsIm9uVG91Y2hNb3ZlIiwieERpc3RhbmNlIiwic3RhcnQiLCJlbmQiLCJ5RGlzdGFuY2UiLCJvblRvdWNoVXAiLCJvbldoZWVsIiwicGl4ZWxYIiwicGl4ZWxZIiwidXBkYXRlIiwiR1NBUCIsImRpcmVjdGlvbiIsInNjYWxlWCIsIm1lc2giLCJzY2FsZSIsInBvc2l0aW9uIiwiZXh0cmEiLCJyb3RhdGlvbiIsInoiLCJNYXRoIiwiUEkiLCJzY2FsZVkiLCJkZXN0cm95IiwicmVtb3ZlQ2hpbGQiLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwiaCJdLCJzb3VyY2VSb290IjoiIn0=